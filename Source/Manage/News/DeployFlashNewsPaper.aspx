<%@ Page Title="" Language="C#" MasterPageFile="~/Manage/CPanelNestedMasterPage.Master"
    AutoEventWireup="true" CodeBehind="DeployFlashNewsPaper.aspx.cs" Inherits="ElMestakbal.Manage.News.DeployFlashNewsPaper1" %>


<asp:Content ID="Content2" ContentPlaceHolderID="MainContentPlaceHolder2" runat="server">
    <asp:UpdatePanel ID="UpdatePanel1" runat="server">
        <ContentTemplate>
            <telerik:RadGrid ID="RadGrid1" runat="server" AllowAutomaticDeletes="True" 
                AllowAutomaticUpdates="True" AllowFilteringByColumn="True" AllowPaging="True" 
                AllowSorting="True" AutoGenerateDeleteColumn="True" 
                AutoGenerateEditColumn="True" CellSpacing="0" DataSourceID="EntityDataSource2" 
                onselectedindexchanged="RadGrid1_SelectedIndexChanged" PageSize="30" 
                ShowGroupPanel="True">
                <ClientSettings AllowDragToGroup="True" EnablePostBackOnRowClick="True">
                    <Selecting AllowRowSelect="True" />
                </ClientSettings>
                <MasterTableView AutoGenerateColumns="False" DataKeyNames="Id" 
                    DataSourceID="EntityDataSource2" PageSize="10">
                    <CommandItemSettings ExportToPdfText="Export to PDF" />
                    <RowIndicatorColumn FilterControlAltText="Filter RowIndicator column" 
                        Visible="True">
                        <HeaderStyle Width="20px" />
                    </RowIndicatorColumn>
                    <ExpandCollapseColumn FilterControlAltText="Filter ExpandColumn column" 
                        Visible="True">
                        <HeaderStyle Width="20px" />
                    </ExpandCollapseColumn>
                    <Columns>
                        <telerik:GridBoundColumn DataField="Id" DataType="System.Int32" 
                            FilterControlAltText="Filter Id column" HeaderText="Id" ReadOnly="True" 
                            SortExpression="Id" UniqueName="Id">
                        </telerik:GridBoundColumn>
                        <telerik:GridBoundColumn DataField="Date" DataType="System.DateTime" 
                            FilterControlAltText="Filter Date column" HeaderText="Date" 
                            SortExpression="Date" UniqueName="Date">
                        </telerik:GridBoundColumn>
                        <telerik:GridBoundColumn DataField="InsertDate" DataType="System.DateTime" 
                            FilterControlAltText="Filter InsertDate column" HeaderText="InsertDate" 
                            SortExpression="InsertDate" UniqueName="InsertDate">
                        </telerik:GridBoundColumn>
                        <telerik:GridBoundColumn DataField="NumberOfDownloads" DataType="System.Int32" 
                            FilterControlAltText="Filter NumberOfDownloads column" 
                            HeaderText="NumberOfDownloads" SortExpression="NumberOfDownloads" 
                            UniqueName="NumberOfDownloads">
                        </telerik:GridBoundColumn>
                    </Columns>
                    <EditFormSettings>
                        <EditColumn FilterControlAltText="Filter EditCommandColumn column">
                        </EditColumn>
                    </EditFormSettings>
                </MasterTableView>
                <FilterMenu EnableImageSprites="False">
                </FilterMenu>
            </telerik:RadGrid>
            <asp:DetailsView ID="DetailsView1" runat="server" Height="50px" Width="300px" AllowPaging="True"
                AutoGenerateRows="False" DataKeyNames="Id" 
                DataSourceID="EntityDataSource1" CellPadding="4"
                ForeColor="#333333" GridLines="None">
                <AlternatingRowStyle BackColor="White" />
                <CommandRowStyle BackColor="#cccbcb" Font-Bold="True" />
                <EditRowStyle BackColor="#e8e8e8" />
                <EmptyDataTemplate>
                    لا يوجد أي ملف انقر على الزر التارلي للرفع
                    <asp:Button ID="Button1" runat="server" OnClick="Button1_Click" Text=" رفع ملف جديد" />
                </EmptyDataTemplate>
                <FieldHeaderStyle BackColor="#dadada" Font-Bold="True" />
                <Fields>
                    <asp:DynamicField DataField="Id" HeaderText="العدد" />
                    <asp:DynamicField DataField="Date" HeaderText="التاريخ" />
                    
                    <asp:TemplateField HeaderText="PDF">
                        <EditItemTemplate>
                            <telerik:RadAsyncUpload ID="RadAsyncUploadPDF" runat="server" 
                                AllowedFileExtensions="*.pdf" MaxFileInputsCount="1" MaxFileSize="104857600" 
                                OnFileUploaded="RadAsyncUploadPDF_FileUploaded" TargetFolder="~/newspaper" 
                                TemporaryFileExpiration="01:00:00" TemporaryFolder="~/App_DataPublic/PDF/RadUploadTemp">
                                <FileFilters>
                                    <telerik:FileFilter Extensions="*.pdf" />
                                </FileFilters>
                            </telerik:RadAsyncUpload>
                        </EditItemTemplate>
                    </asp:TemplateField>
                    <asp:TemplateField HeaderText="SWF">
                        <EditItemTemplate>
                            <telerik:RadAsyncUpload ID="RadAsyncUploadSWF" runat="server" 
                                AllowedFileExtensions="jpg" MaxFileSize="104857600" 
                                MultipleFileSelection="Automatic" 
                                OnFileUploaded="RadAsyncUploadSWF_FileUploaded" 
                                TargetFolder="~/App_DataPublic/PDF/images" TemporaryFileExpiration="01:00:00" 
                                TemporaryFolder="~/App_DataPublic/PDF/RadUploadTemp" ToolTip="نحميل نسخة الفلاش">
                                <FileFilters>
                                    <telerik:FileFilter Description="فلاش" Extensions="jpg" />
                                </FileFilters>
                            </telerik:RadAsyncUpload>
                        </EditItemTemplate>
                    </asp:TemplateField>
                    <asp:CommandField ShowDeleteButton="True" ShowEditButton="True" ShowInsertButton="True" />
                </Fields>
                <FooterStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                <HeaderStyle BackColor="#507CD1" Font-Bold="True" ForeColor="White" />
                <PagerStyle BackColor="#2461BF" ForeColor="White" HorizontalAlign="Center" />
                <RowStyle BackColor="#e0e0e0" />
            </asp:DetailsView>
        </ContentTemplate>
    </asp:UpdatePanel>
    <asp:EntityDataSource ID="EntityDataSource1" runat="server" ConnectionString="name=NewsDBEntities"
        DefaultContainerName="NewsDBEntities" EnableDelete="True" EnableFlattening="False"
        EnableInsert="True" EnableUpdate="True" EntitySetName="Newspapers">
    </asp:EntityDataSource>

        <asp:EntityDataSource ID="EntityDataSource2" runat="server" ConnectionString="name=NewsDBEntities"
        DefaultContainerName="NewsDBEntities" EnableDelete="True" EnableFlattening="False"
        EnableInsert="True" EnableUpdate="True" EntitySetName="Newspapers">
    </asp:EntityDataSource>

</asp:Content>
